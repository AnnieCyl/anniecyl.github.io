title: 《RxJava2.x 实战》学习笔记
date: 2018-06-24 10:23:01
tags:
- RxJava
---

Rx = Observables + LINQ + Schedulers

RxJava 使用三步骤：
1. 创建 Observable
2. 创建 Observer
3. 使用 subscribe() 进行订阅

subscribe 重载方法：
- subscribe(onNext)
- subscribe(onNext, onError)
- subscribe(onNext, onError, onComplete)
- subscribe(onNext, onError, onComplete, onSubscribe)

5 种被观察者类型： 
- Observable：能够发射 0 或 n 个数据，并以成功或者错误事件终止。
- Flowable：能够发射 0 或 n 个数据，并以成功或者错误事件终止。支持背压，可以控制数据源发射的速度。
- Maybe：能够发射 0 或者 1 个数据，要么成功，要么失败。有点类似于 Optional。
- Single：只发射单个数据或错误事件。
- Completable：从来不发射数据，只处理 onComplete 和 onError 事件。可以看成 Rx 的 Runnable。

do 操作符可以给 Observable 的生命周期的各个阶段加上一系列的回调监听：（以下基本是按照 do 操作的执行顺序排序）
- doOnSubscribe：一旦观察者订阅了 Observable，它就会被调动。
- doOnLifecycle：可以在观察者订阅之后，设置是否取消订阅。
- doOnNext：Observable 每发射一项数据就会调用它一次，在 onNext 之前执行。
- doOnEach：Observable 每发射一项数据就会调用它一次，在 doOnNext、doOnError 和 doOnComplete 之后，onNext、onError 和 onComplete 之前执行。
- doAfterNext：在 onNext 之后执行。
- doOnComplete：当 Observable 正常终止调用 onComplete 前会被调用。
- doFinally：Observable 终止之后会被调用，无论是正常终止还是异常终止。
- doAfterTerminate：注册一个 Action，当 Observable 调用 onComplete 或者 onError 时触发。

相关链接：
1. 关于 Subject：https://mcxiaoke.gitbooks.io/rxdocs/content/Subject.html



